<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title> - Aphros的个人博客</title><meta name="Description" content="This is my cool site"><meta property="og:title" content="" />
<meta property="og:description" content="Location 对象，URL 对象，URLSearchParams 对象 URL 是互联网的基础设施之一。浏览器提供了一些原生对象，用来管理 URL。 Location 对象 Locati" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/javascript-tutorial/bom/location/" /><meta property="article:section" content="posts" />

<meta property="og:site_name" content="Aphros的博客" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Location 对象，URL 对象，URLSearchParams 对象 URL 是互联网的基础设施之一。浏览器提供了一些原生对象，用来管理 URL。 Location 对象 Locati"/>
<meta name="application-name" content="Aphros的博客">
<meta name="apple-mobile-web-app-title" content="Aphros的博客"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/posts/javascript-tutorial/bom/location/" /><link rel="prev" href="http://localhost:1313/posts/javascript-tutorial/bom/navigator/" /><link rel="next" href="http://localhost:1313/posts/javascript-tutorial/bom/indexeddb/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/posts\/javascript-tutorial\/bom\/location\/"
        },"genre": "posts","wordcount":  5664 ,
        "url": "http:\/\/localhost:1313\/posts\/javascript-tutorial\/bom\/location\/","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Aphros"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Aphros的个人博客">Aphros的博客</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Aphros的个人博客">Aphros的博客</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX"></h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Aphros</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="0001-01-01">0001-01-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;5664 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;12 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#location-对象">Location 对象</a>
      <ul>
        <li><a href="#属性">属性</a></li>
        <li><a href="#方法">方法</a></li>
      </ul>
    </li>
    <li><a href="#url-的编码和解码">URL 的编码和解码</a>
      <ul>
        <li><a href="#encodeuri">encodeURI()</a></li>
        <li><a href="#encodeuricomponent">encodeURIComponent()</a></li>
        <li><a href="#decodeuri">decodeURI()</a></li>
        <li><a href="#decodeuricomponent">decodeURIComponent()</a></li>
      </ul>
    </li>
    <li><a href="#url-接口">URL 接口</a>
      <ul>
        <li><a href="#构造函数">构造函数</a></li>
        <li><a href="#实例属性">实例属性</a></li>
        <li><a href="#静态方法">静态方法</a></li>
      </ul>
    </li>
    <li><a href="#urlsearchparams-对象">URLSearchParams 对象</a>
      <ul>
        <li><a href="#概述">概述</a></li>
        <li><a href="#urlsearchparamstostring">URLSearchParams.toString()</a></li>
        <li><a href="#urlsearchparamsappend">URLSearchParams.append()</a></li>
        <li><a href="#urlsearchparamsdelete">URLSearchParams.delete()</a></li>
        <li><a href="#urlsearchparamshas">URLSearchParams.has()</a></li>
        <li><a href="#urlsearchparamsset">URLSearchParams.set()</a></li>
        <li><a href="#urlsearchparamsgeturlsearchparamsgetall">URLSearchParams.get()，URLSearchParams.getAll()</a></li>
        <li><a href="#urlsearchparamssort">URLSearchParams.sort()</a></li>
        <li><a href="#urlsearchparamskeysurlsearchparamsvaluesurlsearchparamsentries">URLSearchParams.keys()，URLSearchParams.values()，URLSearchParams.entries()</a></li>
      </ul>
    </li>
    <li><a href="#参考链接">参考链接</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="location-对象url-对象urlsearchparams-对象">Location 对象，URL 对象，URLSearchParams 对象</h1>
<p>URL 是互联网的基础设施之一。浏览器提供了一些原生对象，用来管理 URL。</p>
<h2 id="location-对象">Location 对象</h2>
<p><code>Location</code>对象是浏览器提供的原生对象，提供 URL 相关的信息和操作方法。通过<code>window.location</code>和<code>document.location</code>属性，可以拿到这个对象。</p>
<h3 id="属性">属性</h3>
<p><code>Location</code>对象提供以下属性。</p>
<ul>
<li><code>Location.href</code>：整个 URL。</li>
<li><code>Location.protocol</code>：当前 URL 的协议，包括冒号（<code>:</code>）。</li>
<li><code>Location.host</code>：主机。如果端口不是协议默认的<code>80</code>和<code>433</code>，则还会包括冒号（<code>:</code>）和端口。</li>
<li><code>Location.hostname</code>：主机名，不包括端口。</li>
<li><code>Location.port</code>：端口号。</li>
<li><code>Location.pathname</code>：URL 的路径部分，从根路径<code>/</code>开始。</li>
<li><code>Location.search</code>：查询字符串部分，从问号<code>?</code>开始。</li>
<li><code>Location.hash</code>：片段字符串部分，从<code>#</code>开始。</li>
<li><code>Location.username</code>：域名前面的用户名。</li>
<li><code>Location.password</code>：域名前面的密码。</li>
<li><code>Location.origin</code>：URL 的协议、主机名和端口。</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 当前网址为
</span></span></span><span class="line"><span class="cl"><span class="c1">// http://user:passwd@www.example.com:4097/path/a.html?x=111#part1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://user:passwd@www.example.com:4097/path/a.html?x=111#part1&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">protocol</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http:&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">host</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;www.example.com:4097&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;www.example.com&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">port</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;4097&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;/path/a.html&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;?x=111&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;#part1&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">username</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;user&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">password</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;passwd&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">origin</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://user:passwd@www.example.com:4097&#34;
</span></span></span></code></pre></div><p>这些属性里面，只有<code>origin</code>属性是只读的，其他属性都可写。</p>
<p>注意，如果对<code>Location.href</code>写入新的 URL 地址，浏览器会立刻跳转到这个新地址。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 跳转到新网址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s1">&#39;http://www.example.com&#39;</span><span class="p">;</span>
</span></span></code></pre></div><p>这个特性常常用于让网页自动滚动到新的锚点。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s1">&#39;#top&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 等同于
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span> <span class="o">=</span> <span class="s1">&#39;#top&#39;</span><span class="p">;</span>
</span></span></code></pre></div><p>直接改写<code>location</code>，相当于写入<code>href</code>属性。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">document</span><span class="p">.</span><span class="nx">location</span> <span class="o">=</span> <span class="s1">&#39;http://www.example.com&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 等同于
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s1">&#39;http://www.example.com&#39;</span><span class="p">;</span>
</span></span></code></pre></div><p>另外，<code>Location.href</code>属性是浏览器唯一允许跨域写入的属性，即非同源的窗口可以改写另一个窗口（比如子窗口与父窗口）的<code>Location.href</code>属性，导致后者的网址跳转。<code>Location</code>的其他属性都不允许跨域写入。</p>
<h3 id="方法">方法</h3>
<p><strong>（1）Location.assign()</strong></p>
<p><code>assign</code>方法接受一个 URL 字符串作为参数，使得浏览器立刻跳转到新的 URL。如果参数不是有效的 URL 字符串，则会报错。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 跳转到新的网址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="s1">&#39;http://www.example.com&#39;</span><span class="p">)</span>
</span></span></code></pre></div><p><strong>（2）Location.replace()</strong></p>
<p><code>replace</code>方法接受一个 URL 字符串作为参数，使得浏览器立刻跳转到新的 URL。如果参数不是有效的 URL 字符串，则会报错。</p>
<p>它与<code>assign</code>方法的差异在于，<code>replace</code>会在浏览器的浏览历史<code>History</code>里面删除当前网址，也就是说，一旦使用了该方法，后退按钮就无法回到当前网页了，相当于在浏览历史里面，使用新的 URL 替换了老的 URL。它的一个应用是，当脚本发现当前是移动设备时，就立刻跳转到移动版网页。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 跳转到新的网址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;http://www.example.com&#39;</span><span class="p">)</span>
</span></span></code></pre></div><p><strong>（3）Location.reload()</strong></p>
<p><code>reload</code>方法使得浏览器重新加载当前网址，相当于按下浏览器的刷新按钮。</p>
<p>它接受一个布尔值作为参数。如果参数为<code>true</code>，浏览器将向服务器重新请求这个网页，并且重新加载后，网页将滚动到头部（即<code>scrollTop === 0</code>）。如果参数是<code>false</code>或为空，浏览器将从本地缓存重新加载该网页，并且重新加载后，网页的视口位置是重新加载前的位置。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 向服务器重新请求当前网址
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">reload</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</span></span></code></pre></div><p><strong>（4）Location.toString()</strong></p>
<p><code>toString</code>方法返回整个 URL 字符串，相当于读取<code>Location.href</code>属性。</p>
<h2 id="url-的编码和解码">URL 的编码和解码</h2>
<p>网页的 URL 只能包含合法的字符。合法字符分成两类。</p>
<ul>
<li>URL 元字符：分号（<code>;</code>），逗号（<code>,</code>），斜杠（<code>/</code>），问号（<code>?</code>），冒号（<code>:</code>），at（<code>@</code>），<code>&amp;</code>，等号（<code>=</code>），加号（<code>+</code>），美元符号（<code>$</code>），井号（<code>#</code>）</li>
<li>语义字符：<code>a-z</code>，<code>A-Z</code>，<code>0-9</code>，连词号（<code>-</code>），下划线（<code>_</code>），点（<code>.</code>），感叹号（<code>!</code>），波浪线（<code>~</code>），星号（<code>*</code>），单引号（<code>'</code>），圆括号（<code>()</code>）</li>
</ul>
<p>除了以上字符，其他字符出现在 URL 之中都必须转义，规则是根据操作系统的默认编码，将每个字节转为百分号（<code>%</code>）加上两个大写的十六进制字母。</p>
<p>比如，UTF-8 的操作系统上，<code>http://www.example.com/q=春节</code>这个 URL 之中，汉字“春节”不是 URL 的合法字符，所以被浏览器自动转成<code>http://www.example.com/q=%E6%98%A5%E8%8A%82</code>。其中，“春”转成了<code>%E6%98%A5</code>，“节”转成了<code>%E8%8A%82</code>。这是因为“春”和“节”的 UTF-8 编码分别是<code>E6 98 A5</code>和<code>E8 8A 82</code>，将每个字节前面加上百分号，就构成了 URL 编码。</p>
<p>JavaScript 提供四个 URL 的编码/解码方法。</p>
<ul>
<li><code>encodeURI()</code></li>
<li><code>encodeURIComponent()</code></li>
<li><code>decodeURI()</code></li>
<li><code>decodeURIComponent()</code></li>
</ul>
<h3 id="encodeuri">encodeURI()</h3>
<p><code>encodeURI()</code>方法用于转码整个 URL。它的参数是一个字符串，代表整个 URL。它会将元字符和语义字符之外的字符，都进行转义。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">encodeURI</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/q=春节&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://www.example.com/q=%E6%98%A5%E8%8A%82&#34;
</span></span></span></code></pre></div><h3 id="encodeuricomponent">encodeURIComponent()</h3>
<p><code>encodeURIComponent()</code>方法用于转码 URL 的组成部分，会转码除了语义字符之外的所有字符，即元字符也会被转码。所以，它不能用于转码整个 URL。它接受一个参数，就是 URL 的片段。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="s1">&#39;春节&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;%E6%98%A5%E8%8A%82&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/q=春节&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http%3A%2F%2Fwww.example.com%2Fq%3D%E6%98%A5%E8%8A%82&#34;
</span></span></span></code></pre></div><p>上面代码中，<code>encodeURIComponent()</code>会连 URL 元字符一起转义，所以如果转码整个 URL 就会出错。</p>
<h3 id="decodeuri">decodeURI()</h3>
<p><code>decodeURI()</code>方法用于整个 URL 的解码。它是<code>encodeURI()</code>方法的逆运算。它接受一个参数，就是转码后的 URL。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">decodeURI</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/q=%E6%98%A5%E8%8A%82&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://www.example.com/q=春节&#34;
</span></span></span></code></pre></div><h3 id="decodeuricomponent">decodeURIComponent()</h3>
<p><code>decodeURIComponent()</code>用于URL 片段的解码。它是<code>encodeURIComponent()</code>方法的逆运算。它接受一个参数，就是转码后的 URL 片段。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">decodeURIComponent</span><span class="p">(</span><span class="s1">&#39;%E6%98%A5%E8%8A%82&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;春节&#34;
</span></span></span></code></pre></div><h2 id="url-接口">URL 接口</h2>
<p>浏览器原生提供<code>URL()</code>接口，它是一个构造函数，用来构造、解析和编码 URL。一般情况下，通过<code>window.URL</code>可以拿到这个构造函数。</p>
<h3 id="构造函数">构造函数</h3>
<p><code>URL()</code>作为构造函数，可以生成 URL 实例。它接受一个表示 URL 的字符串作为参数。如果参数不是合法的 URL，会报错。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/index.html&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span><span class="p">.</span><span class="nx">href</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://www.example.com/index.html&#34;
</span></span></span></code></pre></div><p>上面示例生成了一个 URL 实例，用来代表指定的网址。</p>
<p>除了字符串，<code>URL()</code>的参数也可以是另一个 URL 实例。这时，<code>URL()</code>会自动读取该实例的<code>href</code>属性，作为实际参数。</p>
<p>如果 URL 字符串是一个相对路径，那么需要表示绝对路径的第二个参数，作为计算基准。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">url1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">url1</span><span class="p">.</span><span class="nx">href</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://example.com/index.html&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">url2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;page2.html&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com/page1.html&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">url2</span><span class="p">.</span><span class="nx">href</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://example.com/page2.html&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">url3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">,</span> <span class="s1">&#39;http://example.com/a/b.html&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">url3</span><span class="p">.</span><span class="nx">href</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://example.com/&#34;
</span></span></span></code></pre></div><p>上面代码中，返回的 URL 实例的路径都是在第二个参数的基础上，切换到第一个参数得到的。最后一个例子里面，第一个参数是<code>..</code>，表示上层路径。</p>
<h3 id="实例属性">实例属性</h3>
<p>URL 实例的属性与<code>Location</code>对象的属性基本一致，返回当前 URL 的信息。</p>
<ul>
<li>URL.href：返回整个 URL</li>
<li>URL.protocol：返回协议，以冒号<code>:</code>结尾</li>
<li>URL.hostname：返回域名</li>
<li>URL.host：返回域名与端口，包含<code>:</code>号，默认的80和443端口会省略</li>
<li>URL.port：返回端口</li>
<li>URL.origin：返回协议、域名和端口</li>
<li>URL.pathname：返回路径，以斜杠<code>/</code>开头</li>
<li>URL.search：返回查询字符串，以问号<code>?</code>开头</li>
<li>URL.searchParams：返回一个<code>URLSearchParams</code>实例，该属性是<code>Location</code>对象没有的</li>
<li>URL.hash：返回片段识别符，以井号<code>#</code>开头</li>
<li>URL.password：返回域名前面的密码</li>
<li>URL.username：返回域名前面的用户名</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;http://user:passwd@www.example.com:4097/path/a.html?x=111#part1&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">url</span><span class="p">.</span><span class="nx">href</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://user:passwd@www.example.com:4097/path/a.html?x=111#part1&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">protocol</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http:&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">hostname</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;www.example.com&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">host</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;www.example.com:4097&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">port</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;4097&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">origin</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;http://www.example.com:4097&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;/path/a.html&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">search</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;?x=111&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">searchParams</span>
</span></span><span class="line"><span class="cl"><span class="c1">// URLSearchParams {}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">hash</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;#part1&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">password</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;passwd&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">url</span><span class="p">.</span><span class="nx">username</span>
</span></span><span class="line"><span class="cl"><span class="c1">// &#34;user&#34;
</span></span></span></code></pre></div><p>这些属性里面，只有<code>origin</code>属性是只读的，其他属性都可写，并且会立即生效。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;http://example.com/index.html#part1&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">=</span> <span class="s1">&#39;index2.html&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span><span class="p">.</span><span class="nx">href</span> <span class="c1">// &#34;http://example.com/index2.html#part1&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span><span class="p">.</span><span class="nx">hash</span> <span class="o">=</span> <span class="s1">&#39;#part2&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">url</span><span class="p">.</span><span class="nx">href</span> <span class="c1">// &#34;http://example.com/index2.html#part2&#34;
</span></span></span></code></pre></div><p>上面代码中，改变 URL 实例的<code>pathname</code>属性和<code>hash</code>属性，都会实时反映在 URL 实例当中。</p>
<h3 id="静态方法">静态方法</h3>
<p><strong>（1）URL.createObjectURL()</strong></p>
<p><code>URL.createObjectURL()</code>方法用来为上传/下载的文件、流媒体文件生成一个 URL 字符串。这个字符串代表了<code>File</code>对象或<code>Blob</code>对象的 URL。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// HTML 代码如下
</span></span></span><span class="line"><span class="cl"><span class="c1">// &lt;div id=&#34;display&#34;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1">// &lt;input
</span></span></span><span class="line"><span class="cl"><span class="c1">//   type=&#34;file&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1">//   id=&#34;fileElem&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1">//   multiple
</span></span></span><span class="line"><span class="cl"><span class="c1">//   accept=&#34;image/*&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1">//   onchange=&#34;handleFiles(this.files)&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1">//  &gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">handleFiles</span><span class="p">(</span><span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">files</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">img</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">files</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">div</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">img</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>上面代码中，<code>URL.createObjectURL()</code>方法用来为上传的文件生成一个 URL 字符串，作为<code>&lt;img&gt;</code>元素的图片来源。</p>
<p>该方法生成的 URL 就像下面的样子。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">blob</span><span class="o">:</span><span class="nx">http</span><span class="o">:</span><span class="c1">//localhost/c745ef73-ece9-46da-8f66-ebes574789b1
</span></span></span></code></pre></div><p>注意，每次使用<code>URL.createObjectURL()</code>方法，都会在内存里面生成一个 URL 实例。如果不再需要该方法生成的 URL 字符串，为了节省内存，可以使用<code>URL.revokeObjectURL()</code>方法释放这个实例。</p>
<p><strong>（2）URL.revokeObjectURL()</strong></p>
<p><code>URL.revokeObjectURL()</code>方法用来释放<code>URL.createObjectURL()</code>方法生成的 URL 实例。它的参数就是<code>URL.createObjectURL()</code>方法返回的 URL 字符串。</p>
<p>下面为上一段的示例加上<code>URL.revokeObjectURL()</code>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;display&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">function</span> <span class="nx">handleFiles</span><span class="p">(</span><span class="nx">files</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">files</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">img</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">files</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">div</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">img</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">img</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">revokeObjectURL</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">src</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>上面代码中，一旦图片加载成功以后，为本地文件生成的 URL 字符串就没用了，于是可以在<code>img.onload</code>回调函数里面，通过<code>URL.revokeObjectURL()</code>方法卸载这个 URL 实例。</p>
<h2 id="urlsearchparams-对象">URLSearchParams 对象</h2>
<h3 id="概述">概述</h3>
<p><code>URLSearchParams</code>对象是浏览器的原生对象，用来构造、解析和处理 URL 的查询字符串（即 URL 问号后面的部分）。</p>
<p>它本身也是一个构造函数，可以生成实例。参数可以为查询字符串，起首的问号<code>?</code>有没有都行，也可以是对应查询字符串的数组或对象。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 方法一：传入字符串
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="s1">&#39;?foo=1&amp;bar=2&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 等同于
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 方法二：传入数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">([[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 方法三：传入对象
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span> <span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="s1">&#39;bar&#39;</span> <span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
</span></span></code></pre></div><p><code>URLSearchParams</code>会对查询字符串自动编码。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;你好&#39;</span><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;foo=%E4%BD%A0%E5%A5%BD&#34;
</span></span></span></code></pre></div><p>上面代码中，<code>foo</code>的值是汉字，<code>URLSearchParams</code>对其自动进行 URL 编码。</p>
<p>浏览器向服务器发送表单数据时，可以直接使用<code>URLSearchParams</code>实例作为表单数据。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://example.com/api&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">body</span><span class="o">:</span> <span class="nx">params</span>
</span></span><span class="line"><span class="cl"><span class="p">}).</span><span class="nx">then</span><span class="p">(...)</span>
</span></span></code></pre></div><p>上面代码中，<code>fetch</code>命令向服务器发送命令时，可以直接使用<code>URLSearchParams</code>实例。</p>
<p><code>URLSearchParams</code>可以与<code>URL()</code>接口结合使用。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="s1">&#39;somedefault&#39;</span><span class="p">;</span>
</span></span></code></pre></div><p>上面代码中，URL 实例的<code>searchParams</code>属性就是一个<code>URLSearchParams</code>实例，所以可以使用<code>URLSearchParams</code>接口的<code>get</code>方法。</p>
<p><code>URLSearchParams</code>实例有遍历器接口，可以用<code>for...of</code>循环遍历（详见《ES6 标准入门》的《Iterator》一章）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nx">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// foo: 1
</span></span></span><span class="line"><span class="cl"><span class="c1">// bar: 2
</span></span></span></code></pre></div><p><code>URLSearchParams</code>没有实例属性，只有实例方法。</p>
<h3 id="urlsearchparamstostring">URLSearchParams.toString()</h3>
<p><code>toString</code>方法返回实例的字符串形式。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="s1">&#39;https://example.com?foo=1&amp;bar=2&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">search</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;foo=1&amp;bar=2&#39;
</span></span></span></code></pre></div><p>那么需要字符串的场合，会自动调用<code>toString</code>方法。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="nx">version</span><span class="o">:</span> <span class="mf">2.0</span><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">+</span> <span class="s1">&#39;?&#39;</span> <span class="o">+</span> <span class="nx">params</span><span class="p">;</span>
</span></span></code></pre></div><p>上面代码中，<code>location.href</code>赋值时，可以直接使用<code>params</code>对象。这时就会自动调用<code>toString</code>方法。</p>
<h3 id="urlsearchparamsappend">URLSearchParams.append()</h3>
<p><code>append()</code>方法用来追加一个查询参数。它接受两个参数，第一个为键名，第二个为键值，没有返回值。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;foo=1&amp;bar=2&amp;baz=3&#34;
</span></span></span></code></pre></div><p><code>append()</code>方法不会识别是否键名已经存在。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;foo=1&amp;bar=2&amp;foo=3&#34;
</span></span></span></code></pre></div><p>上面代码中，查询字符串里面<code>foo</code>已经存在了，但是<code>append</code>依然会追加一个同名键。</p>
<h3 id="urlsearchparamsdelete">URLSearchParams.delete()</h3>
<p><code>delete()</code>方法用来删除指定的查询参数。它接受键名作为参数。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;foo=1&#34;
</span></span></span></code></pre></div><h3 id="urlsearchparamshas">URLSearchParams.has()</h3>
<p><code>has()</code>方法返回一个布尔值，表示查询字符串是否包含指定的键名。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="mi">1</span> <span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span> <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">params</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s1">&#39;baz&#39;</span><span class="p">)</span> <span class="c1">// false
</span></span></span></code></pre></div><h3 id="urlsearchparamsset">URLSearchParams.set()</h3>
<p><code>set()</code>方法用来设置查询字符串的键值。</p>
<p>它接受两个参数，第一个是键名，第二个是键值。如果是已经存在的键，键值会被改写，否则会被追加。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="s1">&#39;?foo=1&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;foo=2&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">params</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;foo=2&amp;bar=3&#34;
</span></span></span></code></pre></div><p>上面代码中，<code>foo</code>是已经存在的键，<code>bar</code>是还不存在的键。</p>
<p>如果有多个的同名键，<code>set</code>会移除现存所有的键。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="s1">&#39;?foo=1&amp;foo=2&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;foo=3&#34;
</span></span></span></code></pre></div><p>下面是一个替换当前 URL 的例子。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// URL: https://example.com?version=1.0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="s1">&#39;2.0&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">history</span><span class="p">.</span><span class="nx">replaceState</span><span class="p">({},</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">+</span> <span class="sb">`?`</span> <span class="o">+</span> <span class="nx">params</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// URL: https://example.com?version=2.0
</span></span></span></code></pre></div><h3 id="urlsearchparamsgeturlsearchparamsgetall">URLSearchParams.get()，URLSearchParams.getAll()</h3>
<p><code>get()</code>方法用来读取查询字符串里面的指定键。它接受键名作为参数。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="s1">&#39;?foo=1&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="c1">// &#34;1&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">params</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span> <span class="c1">// null
</span></span></span></code></pre></div><p>两个地方需要注意。第一，它返回的是字符串，如果原始值是数值，需要转一下类型；第二，如果指定的键名不存在，返回值是<code>null</code>。</p>
<p>如果有多个的同名键，<code>get</code>返回位置最前面的那个键值。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="s1">&#39;?foo=3&amp;foo=2&amp;foo=1&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="c1">// &#34;3&#34;
</span></span></span></code></pre></div><p>上面代码中，查询字符串有三个<code>foo</code>键，<code>get</code>方法返回最前面的键值<code>3</code>。</p>
<p><code>getAll()</code>方法返回一个数组，成员是指定键的所有键值。它接受键名作为参数。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="s1">&#39;?foo=1&amp;foo=2&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">getAll</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="c1">// [&#34;1&#34;, &#34;2&#34;]
</span></span></span></code></pre></div><p>上面代码中，查询字符串有两个<code>foo</code>键，<code>getAll</code>返回的数组就有两个成员。</p>
<h3 id="urlsearchparamssort">URLSearchParams.sort()</h3>
<p><code>sort()</code>方法对查询字符串里面的键进行排序，规则是按照 Unicode 码点从小到大排列。</p>
<p>该方法没有返回值，或者说返回值是<code>undefined</code>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="s1">&#39;c=4&amp;a=2&amp;b=3&amp;a=1&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">sort</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="nx">params</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1">// &#34;a=2&amp;a=1&amp;b=3&amp;c=4&#34;
</span></span></span></code></pre></div><p>上面代码中，如果有两个同名的键<code>a</code>，它们之间不会排序，而是保留原始的顺序。</p>
<h3 id="urlsearchparamskeysurlsearchparamsvaluesurlsearchparamsentries">URLSearchParams.keys()，URLSearchParams.values()，URLSearchParams.entries()</h3>
<p>这三个方法都返回一个遍历器对象，供<code>for...of</code>循环遍历。它们的区别在于，<code>keys</code>方法返回的是键名的遍历器，<code>values</code>方法返回的是键值的遍历器，<code>entries</code>返回的是键值对的遍历器。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">(</span><span class="s1">&#39;a=1&amp;b=2&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">params</span><span class="p">.</span><span class="nx">keys</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// a
</span></span></span><span class="line"><span class="cl"><span class="c1">// b
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">params</span><span class="p">.</span><span class="nx">values</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 1
</span></span></span><span class="line"><span class="cl"><span class="c1">// 2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">params</span><span class="p">.</span><span class="nx">entries</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// [&#34;a&#34;, &#34;1&#34;]
</span></span></span><span class="line"><span class="cl"><span class="c1">// [&#34;b&#34;, &#34;2&#34;]
</span></span></span></code></pre></div><p>如果直接对<code>URLSearchParams</code>进行遍历，其实内部调用的就是<code>entries</code>接口。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">params</span><span class="p">)</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 等同于
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">params</span><span class="p">.</span><span class="nx">entries</span><span class="p">())</span> <span class="p">{}</span>
</span></span></code></pre></div><h2 id="参考链接">参考链接</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location" target="_blank" rel="noopener noreffer ">Location</a>, by MDN</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" target="_blank" rel="noopener noreffer ">URL</a>, by MDN</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreffer ">URLSearchParams</a>, by MDN</li>
<li><a href="https://developers.google.com/web/updates/2016/01/urlsearchparams?hl=en" target="_blank" rel="noopener noreffer ">Easy URL Manipulation with URLSearchParams</a>, by Eric Bidelman</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 0001-01-01</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="http://localhost:1313/posts/javascript-tutorial/bom/location/" data-title=""><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://localhost:1313/posts/javascript-tutorial/bom/location/"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="http://localhost:1313/posts/javascript-tutorial/bom/location/" data-title=""><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="http://localhost:1313/posts/javascript-tutorial/bom/location/" data-title=""><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="http://localhost:1313/posts/javascript-tutorial/bom/location/" data-title=""><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/javascript-tutorial/bom/navigator/" class="prev" rel="prev" title=""><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i></a>
            <a href="/posts/javascript-tutorial/bom/indexeddb/" class="next" rel="next" title=""><i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.118.2">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Aphros</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
